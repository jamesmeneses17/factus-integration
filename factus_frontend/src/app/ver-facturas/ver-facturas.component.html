<div class="p-4 max-w-7xl mx-auto">
  <h2 class="text-2xl font-bold mb-6 text-gray-700">Lista de Facturas</h2>

  <!-- Filtros -->
  <div class="grid grid-cols-1 md:grid-cols-3 gap-4 mb-4">
    <input
      [(ngModel)]="filtros.identificacion"
      type="text"
      placeholder="Número de identificación"
      class="border px-3 py-2 rounded w-full"
    />
    <input
      [(ngModel)]="filtros.nombres"
      type="text"
      placeholder="Nombre de cliente"
      class="border px-3 py-2 rounded w-full"
    />
    <input
      [(ngModel)]="filtros.numero"
      type="text"
      placeholder="Número de factura"
      class="border px-3 py-2 rounded w-full"
    />
  </div>

  <div class="mb-4 text-right">
    <button
      (click)="buscarFacturas()"
      class="bg-indigo-600 text-white px-4 py-2 rounded hover:bg-indigo-700 transition"
    >
      Buscar
    </button>
  </div>

  <!-- Tabla -->
  <div class="overflow-x-auto bg-white rounded shadow">
    <table class="min-w-full text-sm text-gray-700">
      <thead class="bg-indigo-900 text-white text-xs uppercase text-left">
        <tr>
          <th class="px-4 py-3">Identificación</th>
          <th class="px-4 py-3">Nombre</th>
          <th class="px-4 py-3">Email</th>
          <th class="px-4 py-3">Número de Factura</th>
          <th class="px-4 py-3 text-center">Descargar PDF</th>
          <th class="px-4 py-3 text-center">Factura DIAN</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let factura of facturas" class="border-b hover:bg-gray-50">
          <!-- Identificación -->
          <td class="px-4 py-2">{{ factura.identification }}</td>

          <!-- Nombre -->
          <td class="px-4 py-2">{{ factura.names }}</td>

          <!-- Email -->
          <td class="px-4 py-2">{{ factura.email }}</td>

          <!-- Número de Factura -->
          <td class="px-4 py-2">{{ factura.number }}</td>

          <!-- Botón para descargar el PDF de Factus -->
          <td class="px-4 py-2 text-center">
            <button (click)="descargarPDF(factura)" title="Descargar PDF">
              <svg
                xmlns="http://www.w3.org/2000/svg"
                fill="none"
                viewBox="0 0 24 24"
                stroke-width="2"
                stroke="currentColor"
                class="w-6 h-6 text-indigo-600 hover:text-indigo-800 mx-auto"
              >
                <path
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  d="M4 16v1a2 2 0 002 2h12a2 2 0 002-2v-1M12 12v6m0 0l-3-3m3 3l3-3m-6-8h6"
                />
              </svg>
            </button>
          </td>

          <!-- Botón para ver en DIAN -->
          <!-- Botón para ver en DIAN -->
          <td class="px-4 py-2 text-center">
            <button (click)="generarLinkDIAN(factura)" title="Ver en DIAN">
              <svg
                class="w-6 h-6 text-green-600 hover:text-green-800 mx-auto"
                fill="none"
                stroke="currentColor"
                stroke-width="2"
                viewBox="0 0 24 24"
              >
                <path
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  d="M13 16h-1v-4h-1m1-4h.01M12 20h.01M8 20h.01M4 20h.01M16 20h.01M20 20h.01M20 4H4a2 2 0 00-2 2v14h20V6a2 2 0 00-2-2z"
                />
              </svg>
            </button>
          </td>
        </tr>
        
      </tbody>
    </table>
    <!-- Paginador manual -->
<div class="flex justify-center mt-4 items-center space-x-2">
  <button
    (click)="paginaAnterior()"
    [disabled]="paginaActual === 1"
    class="px-4 py-2 bg-indigo-600 text-white rounded hover:bg-indigo-700 transition disabled:opacity-50"
  >
    Anterior
  </button>

  <span class="text-gray-700 font-semibold">Página {{ paginaActual }} de {{ totalPaginas }}</span>

  <button
    (click)="paginaSiguiente()"
    [disabled]="paginaActual === totalPaginas"
    class="px-4 py-2 bg-indigo-600 text-white rounded hover:bg-indigo-700 transition disabled:opacity-50"
  >
    Siguiente
  </button>
</div>

  </div>
</div>
