<div
  class="flex flex-col items-center justify-center min-h-screen bg-gray-100 py-10 px-4"
>
<div class="bg-white p-6 sm:p-8 rounded shadow-md w-full max-w-4xl mx-auto text-gray-700 font-sans">
  <!-- Encabezado de los pasos -->
    <!-- Encabezado de los pasos -->
    <div class="flex justify-between flex-wrap gap-4 mb-8">
      <!-- Paso 1 -->
      <div class="flex flex-col items-center">
        <div
          class="w-10 h-10 rounded-full flex items-center justify-center"
          [ngClass]="
            pasoActual === 1
              ? 'bg-teal-600 text-white'
              : 'bg-gray-300 text-white'
          "
        >
          1
        </div>
        <p
          [ngClass]="
            pasoActual === 1
              ? 'text-teal-600 font-semibold mt-2'
              : 'text-gray-600 mt-2'
          "
        >
          Datos Generales
        </p>
      </div>

      <!-- Paso 2 -->
      <div class="flex flex-col items-center">
        <div
          class="w-10 h-10 rounded-full flex items-center justify-center"
          [ngClass]="
            pasoActual === 2
              ? 'bg-teal-600 text-white'
              : 'bg-gray-300 text-white'
          "
        >
          2
        </div>
        <p
          [ngClass]="
            pasoActual === 2
              ? 'text-teal-600 font-semibold mt-2'
              : 'text-gray-600 mt-2'
          "
        >
          Información del Cliente
        </p>
      </div>

      <!-- Paso 3 -->
      <div class="flex flex-col items-center">
        <div
          class="w-10 h-10 rounded-full flex items-center justify-center"
          [ngClass]="
            pasoActual === 3
              ? 'bg-teal-600 text-white'
              : 'bg-gray-300 text-white'
          "
        >
          3
        </div>
        <p
          [ngClass]="
            pasoActual === 3
              ? 'text-teal-600 font-semibold mt-2'
              : 'text-gray-600 mt-2'
          "
        >
          Información del Producto
        </p>
      </div>
    </div>


    <!-- Paso 1: Datos Generales -->
    <div *ngIf="pasoActual === 1" class="grid grid-cols-1 md:grid-cols-2 gap-6">
      <div>
        <label class="block mb-1 font-medium">Rango de Numeración:</label>
        <select
          [(ngModel)]="rangoSeleccionado"
          class="w-full border border-gray-300 rounded px-3 py-2"
        >
          <option value="" disabled>Seleccione un rango</option>
          <option *ngFor="let r of rangos" [value]="r.id">
            {{ r.document }} ({{ r.prefix }}: {{ r.from }} - {{ r.to }})
          </option>
        </select>
      </div>
      

      <div>
        <label class="block mb-1 font-medium">Método de Pago:</label>
        <select
          [(ngModel)]="metodoPago"
          class="w-full border border-gray-300 rounded px-3 py-2"
        >
          <option value="" disabled selected>Seleccione un método</option>
          <option *ngFor="let m of metodosPago" [value]="m.codigo">
            {{ m.nombre }}
          </option>
        </select>
      </div>
      <div>
        <label class="block mb-1 font-medium">Código de Referencia de la Factura:</label>
        <input
          [(ngModel)]="referenciaFactura"
          type="text"
          class="w-full border border-gray-300 rounded px-3 py-2"
          placeholder="Ej: REF_001"
        />
      </div>
      
      <div>
        <label class="block mb-1 font-medium">Observación:</label>
        <textarea
          [(ngModel)]="observacionFactura"
          class="w-full border border-gray-300 rounded px-3 py-2"
          placeholder="Observaciones de la factura"
          rows="3"
        ></textarea>
      </div>
      

      <div class="col-span-1 md:col-span-2 flex justify-end mt-8">
        <button
        (click)="siguientePaso()"
        class="bg-indigo-600 text-white px-6 py-2 rounded hover:bg-indigo-700"
      >
        Siguiente
      </button>
      
      </div>
    </div>

    <!-- Paso 2: Información del Cliente -->
    <div *ngIf="pasoActual === 2" class="mt-8">
      <h2 class="text-xl font-bold mb-4 text-center sm:text-left">
        Información del Cliente
      </h2>

      <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
        <div>
          <label class="block mb-1 font-medium">Tipo de Documento:</label>
          <select
            [(ngModel)]="cliente.tipoDocumento"
            class="w-full border border-gray-300 rounded px-3 py-2"
          >
            <option value="" disabled selected>Seleccione un tipo</option>
            <option *ngFor="let tipo of tiposDocumento" [value]="tipo.id">
              {{ tipo.nombre }}
            </option>
          </select>
        </div>

        <div>
          <label class="block mb-1 font-medium">Identificación:</label>
          <input
            [(ngModel)]="cliente.identificacion"
            type="text"
            class="w-full border border-gray-300 rounded px-3 py-2"
          />
        </div>

       

        <div>
          <label class="block mb-1 font-medium">Nombre / Razón Social:</label>
          <input
            [(ngModel)]="cliente.nombre"
            type="text"
            class="w-full border border-gray-300 rounded px-3 py-2"
          />
        </div>

        <div>
          <label class="block mb-1 font-medium">Dirección:</label>
          <input
            [(ngModel)]="cliente.direccion"
            type="text"
            class="w-full border border-gray-300 rounded px-3 py-2"
          />
        </div>

        <div>
          <label class="block mb-1 font-medium">Correo Electrónico:</label>
          <input
            [(ngModel)]="cliente.email"
            type="email"
            class="w-full border border-gray-300 rounded px-3 py-2"
          />
        </div>

        <div>
          <label class="block mb-1 font-medium">Teléfono:</label>
          <input
            [(ngModel)]="cliente.telefono"
            type="tel"
            class="w-full border border-gray-300 rounded px-3 py-2"
          />
        </div>

        <div>
          <label class="block mb-1 font-medium">Municipio:</label>
          <select
            [(ngModel)]="cliente.municipio"
            class="w-full border border-gray-300 rounded px-3 py-2"
          >
            <option value="" disabled>Seleccione un municipio</option>
            <option *ngFor="let m of municipios" [value]="m.id">
              {{ m.name }} ({{ m.department }})
            </option>
          </select>
        </div>
        <!-- Campo: Tipo de Organización -->
<div>
  <label class="block mb-1 font-medium">Tipo de Organización:</label>
  <select
    [(ngModel)]="cliente.organizacion"
    class="w-full border border-gray-300 rounded px-3 py-2"
  >
    <option value="" disabled selected>Seleccione tipo de organización</option>
    <option *ngFor="let org of tiposOrganizacion" [value]="org.id">
      {{ org.nombre }}
    </option>
  </select>
</div>

<!-- Campo: Tributo del Cliente (IVA o no aplica) -->
<div>
  <label class="block mb-1 font-medium">Tributo del Cliente:</label>
  <select
    [(ngModel)]="cliente.tributo"
    class="w-full border border-gray-300 rounded px-3 py-2"
  >
    <option value="" disabled selected>Seleccione un tributo</option>
    <option *ngFor="let tributo of tributosCliente" [value]="tributo.id">
      {{ tributo.nombre }}
    </option>
    
    
  </select>
</div>

        
      </div>

      <div class="flex flex-col sm:flex-row justify-between gap-4 mt-8">
        <button
          (click)="pasoActual = 1"
          class="bg-gray-300 text-gray-800 px-6 py-2 rounded hover:bg-gray-400 transition"
        >
          Anterior
        </button>
        <button
          (click)="pasoActual = 3"
          class="bg-indigo-600 text-white px-6 py-2 rounded hover:bg-indigo-700 transition"
        >
          Siguiente
        </button>
      </div>
    </div>
    <!-- Paso 3: Información del Producto -->
    <div *ngIf="pasoActual === 3" class="mt-8">
      <h2 class="text-xl font-bold mb-4 text-center sm:text-left">
        Información del Producto
      </h2>

      <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
        <!-- Código de referencia -->
        <div>
          <label class="block mb-1 font-medium">Código de Referencia:</label>
          <input
            [(ngModel)]="producto.codigo"
            type="text"
            class="w-full border border-gray-300 rounded px-3 py-2"
          />
        </div>

        <!-- Nombre del producto -->
        <div>
          <label class="block mb-1 font-medium">Nombre del Producto:</label>
          <input
            [(ngModel)]="producto.nombre"
            type="text"
            class="w-full border border-gray-300 rounded px-3 py-2"
          />
        </div>

        <!-- Cantidad -->
        <div>
          <label class="block mb-1 font-medium">Cantidad:</label>
          <input
            [(ngModel)]="producto.cantidad"
            type="number"
            step="0.01"
            class="w-full border border-gray-300 rounded px-3 py-2"
          />
        </div>

        <!-- Precio -->
        <div>
          <label class="block mb-1 font-medium">Precio Unitario:</label>
          <input
            [(ngModel)]="producto.precio"
            type="number"
            step="0.01"
            class="w-full border border-gray-300 rounded px-3 py-2"
          />
        </div>

        <!-- Tasa de impuesto -->
        <div>
          <label class="block mb-1 font-medium">Tasa de Impuesto (%):</label>
          <input
  type="number"
  [(ngModel)]="producto.tasa"
  class="w-full border rounded px-3 py-2"
  placeholder="Tasa de Impuesto (%)"
/>

        </div>

        <!-- Unidad de medida -->
        <div>
          <label class="block mb-1 font-medium">Unidad de Medida:</label>
          <select [(ngModel)]="producto.unidadMedida" class="w-full border rounded px-3 py-2">
            <option value="" disabled>Seleccione una unidad</option>
            <option *ngFor="let u of unidades" [value]="u.id">{{ u.name }} ({{ u.code }})</option>


          </select>
          
        </div>

        <!-- Tributo -->
        <div>
          <label class="block mb-1 font-medium">Tributo:</label>
          <select [(ngModel)]="producto.tributo" class="w-full border rounded px-3 py-2">
            <option value="" disabled>Seleccione un tributo</option>
            <option *ngFor="let t of tributos" [value]="t.id">{{ t.name }} ({{ t.rate }}%)</option>

          </select>
          
        </div>
      </div>

      <div class="flex flex-col sm:flex-row justify-between gap-4 mt-8">
        <button
          (click)="pasoActual = 2"
          class="bg-gray-300 text-gray-800 px-6 py-2 rounded hover:bg-gray-400 transition"
        >
          Anterior
        </button>
        <button
          (click)="enviarFactura()"
          class="bg-green-600 text-white px-6 py-2 rounded hover:bg-green-700 transition"
        >
          Generar Factura
        </button>
      </div>
    </div>
  </div>
</div>
